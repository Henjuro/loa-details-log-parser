"use strict";var m=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var U=(t,s)=>{for(var a in s)m(t,a,{get:s[a],enumerable:!0})},H=(t,s,a,u)=>{if(s&&typeof s=="object"||typeof s=="function")for(let n of N(s))!w.call(t,n)&&n!==a&&m(t,n,{get:()=>s[n],enumerable:!(u=y(s,n))||u.enumerable});return t};var O=t=>H(m({},"__esModule",{value:!0}),t);var A={};U(A,{LogBuff:()=>I,LogCounterattack:()=>E,LogDamage:()=>x,LogDeath:()=>g,LogHeal:()=>b,LogInitEnv:()=>o,LogMessage:()=>i,LogNewNpc:()=>d,LogNewPc:()=>h,LogPhaseTransition:()=>c,LogSkillStage:()=>k,LogSkillStart:()=>f});module.exports=O(A);var T=require("lodash");function r(t,s=0,a=10,u=!1){if(typeof t=="number")return isNaN(t)?s:t;let n;try{n=u?parseFloat(t):parseInt(t,a),isNaN(n)&&(n=s)}catch{n=s}return n}var e=class{lineSplit;timestamp;constructor(s){this.lineSplit=s,this.timestamp=new Date(this.lineSplit[1])}},i=class extends e{message;constructor(s){super(s),this.message=this.lineSplit[2]}},o=class extends e{playerId;constructor(s){super(s),this.playerId=s[2]}},c=class extends e{phaseCode;constructor(s){super(s),this.phaseCode=r(s[2])}},h=class extends e{id;name;classId;class;gearScore;currentHp;maxHp;constructor(s){super(s),this.id=s[2],this.name=s[3]||"Unknown Entity",this.classId=r(s[4]),this.class=s[5]||"UnknownClass",this.gearScore=r(s[7],0,10,!0),this.currentHp=r(s[8]),this.maxHp=r(s[9])}},d=class extends e{id;npcId;name;currentHp;maxHp;constructor(s){super(s),this.id=s[2],this.npcId=r(s[3]),this.name=s[4]||"Unknown Entity",this.currentHp=r(s[5]),this.maxHp=r(s[6])}},g=class extends e{id;name;killerId;killerName;constructor(s){super(s),this.id=s[2],this.name=s[3]||"Unknown Entity",this.killerId=s[4],this.killerName=s[5]||"Unknown Entity"}},f=class extends e{id;name;skillId;skillName;constructor(s){super(s),this.id=s[2],this.name=s[3]||"Unknown Entity",this.skillId=r(s[4]),this.skillName=s[5]||"Unknown Skill"}},k=class extends e{id;name;skillId;skillName;skillStage;constructor(s){super(s),this.id=s[2],this.name=s[3]||"Unknown Entity",this.skillId=s[4],this.skillName=s[5]||"Unknown Skill",this.skillStage=r(s[6])}},x=class extends e{id;name;skillId;skillName;skillEffectId;skillEffect;targetId;targetName;damage;damageModifier;currentHp;maxHp;statusEffectsOnTarget;statusEffectsOnSource;constructor(s){if(super(s),this.id=s[2],this.name=s[3]||"Unknown Entity",this.skillId=r(s[4]),this.skillName=s[5]||"Unknown Skill",this.skillEffectId=r(s[6]),this.skillEffect=s[7],this.targetId=s[8],this.targetName=s[9]||"Unknown Entity",this.damage=r(s[10]),this.damageModifier=r(s[11],0,16),this.currentHp=r(s[12]),this.maxHp=r(s[13]),this.statusEffectsOnTarget=[],this.statusEffectsOnSource=[],s.length>=17){let u=!1,n=0;for(var a of s[14].split(","))u?(this.statusEffectsOnTarget.push([n,a]),u=!1):(n=r(a),u=!0);u=!1;for(var a of s[15].split(","))u?(this.statusEffectsOnSource.push([n,a]),u=!1):(n=r(a),u=!0)}}},b=class extends e{id;name;healAmount;constructor(s){super(s),this.id=s[2],this.name=s[3]||"Unknown Entity",this.healAmount=r(s[4])}},I=class extends e{id;name;buffId;buffName;isNew;sourceId;sourceName;shieldAmount;constructor(s){super(s),this.id=s[2],this.name=s[3]||"Unknown Entity",this.buffId=s[4],this.buffName=s[5],this.isNew=s[6]=="1",this.sourceId=s[7],this.sourceName=s[8]||"Unknown Entity",this.shieldAmount=r(s[9])}},E=class extends e{id;name;constructor(s){super(s),this.id=s[2],this.name=s[3]||"Unknown Entity"}};0&&(module.exports={LogBuff,LogCounterattack,LogDamage,LogDeath,LogHeal,LogInitEnv,LogMessage,LogNewNpc,LogNewPc,LogPhaseTransition,LogSkillStage,LogSkillStart});
